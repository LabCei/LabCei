<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Examen</title>
    <link rel="stylesheet" href="css/style_ex.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
</head>
<style>
    .certificate {
        border: 10px solid #0d5c71;
        padding: 50px;
        background-image: url('images/certificado.png');
        width: 900px; /* Ajusta según el tamaño deseado */
        height: 575px; /* Ajusta según el tamaño deseado */
        text-align: center;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        border-radius: 10px;
        position: relative;
        display: none; /* Ocultar inicialmente */
    }
    
    h1 {
        color: #0d5c71;
        font-size: 2.5em;
        margin-bottom: 20px;
    }
    .recipient {
        font-size: 1.8em;
        margin: 20px 0;
        font-weight: bold;
        color: #333;
    }
    .description {
        font-size: 1.2em;
        margin: 20px 0;
        color: #555;
    }
    .footer {
        margin-top: 40px;
        font-size: 1em;
        color: #777;
    }
    .date {
        margin-top: 30px;
        font-size: 1em;
    }
</style>
<body>

<header class="header_section">
    <div class="container-fluid">
        <nav class="navbar navbar-expand-lg custom_nav-container">
            <img src="images/logo.png" alt="">
            LABCEI
        </nav>
    </div>
</header>

<div class="container">
    <h1>Examen de Química</h1>
    <form id="examen">
        <div class="pregunta">
            <p>1. ¿Cómo se le llama al fenómeno que ocasiona el cambio de color en la llama?</p>
            <div class="opciones">
                <label><input type="radio" name="pregunta1" value="a"> a) Espectroscopía de emisión de llama</label><br>
                <label><input type="radio" name="pregunta1" value="b"> b) Fluorescencia inducida por llama</label><br>
                <label><input type="radio" name="pregunta1" value="c"> c) Emisión espectral térmica</label><br>
                <label><input type="radio" name="pregunta1" value="d"> d) Reacción de fotoluminiscencia</label><br>
            </div>
        </div>

        <div class="pregunta">
            <p>2. ¿Con cuál de los siguientes elementos NO ocurre nada al aplicarse al carbón?</p>
            <div class="opciones">
                <label><input type="radio" name="pregunta2" value="a"> a) Agua</label><br>
                <label><input type="radio" name="pregunta2" value="b"> b) Cloruro de cobre</label><br>
                <label><input type="radio" name="pregunta2" value="c"> c) Ácido Clorhídrico</label><br>
                <label><input type="radio" name="pregunta2" value="d"> d) Ninguno de los Anteriores</label><br>
            </div>
        </div>

        <div class="pregunta">
            <p>3. ¿Qué estudia la química?</p>
            <div class="opciones">
                <label><input type="radio" name="pregunta3" value="a"> a) Los cambios de la energía.</label><br>
                <label><input type="radio" name="pregunta3" value="b"> b) La composición, estructura y cambios de la materia.</label><br>
                <label><input type="radio" name="pregunta3" value="c"> c) Los organismos vivos.</label><br>
                <label><input type="radio" name="pregunta3" value="d"> d) El clima y sus efectos.</label><br>
            </div>
        </div>

        <div class="pregunta">
            <p>4. ¿Qué ocurre en una reacción química?</p>
            <div class="opciones">
                <label><input type="radio" name="pregunta4" value="a"> a) Los átomos cambian su número de protones.</label><br>
                <label><input type="radio" name="pregunta4" value="b"> b) Los electrones desaparecen.</label><br>
                <label><input type="radio" name="pregunta4" value="c"> c) Los reactantes forman nuevas sustancias llamadas productos.</label><br>
                <label><input type="radio" name="pregunta4" value="d"> d) La energía no juega ningún papel.</label><br>
            </div>
        </div>

        <div class="pregunta">
            <p>5. ¿Qué es una sustancia química?</p>
            <div class="opciones">
                <label><input type="radio" name="pregunta5" value="a"> a) Cualquier materia con una composición indefinida.</label><br>
                <label><input type="radio" name="pregunta5" value="b"> b) Un compuesto formado únicamente por átomos de hidrógeno.</label><br>
                <label><input type="radio" name="pregunta5" value="c"> c) Una materia con composición definida y propiedades específicas.</label><br>
                <label><input type="radio" name="pregunta5" value="d"> d) Una mezcla de diferentes elementos y compuestos.</label><br>
            </div>
        </div>

        <div class="pregunta">
            <p>6. ¿Qué caracteriza a los elementos químicos?</p>
            <div class="opciones">
                <label><input type="radio" name="pregunta6" value="a"> a) Están formados por átomos con el mismo número de protones.</label><br>
                <label><input type="radio" name="pregunta6" value="b"> b) Son sustancias que pueden descomponerse en otras más simples.</label><br>
                <label><input type="radio" name="pregunta6" value="c"> c) Tienen átomos con diferentes números de protones.</label><br>
                <label><input type="radio" name="pregunta6" value="d"> d) Son compuestos que se forman durante una reacción química.</label><br>
            </div>
        </div>

        <div class="pregunta">
            <p>7. ¿Qué es un instrumento químico?</p>
            <div class="opciones">
                <label><input type="radio" name="pregunta7" value="a"> a) Una herramienta utilizada para medir propiedades físicas y químicas en el laboratorio.</label><br>
                <label><input type="radio" name="pregunta7" value="b"> b) Una máquina utilizada solo para calentar sustancias.</label><br>
                <label><input type="radio" name="pregunta7" value="c"> c) Un dispositivo para manipular organismos vivos.</label><br>
                <label><input type="radio" name="pregunta7" value="d"> d) Un aparato para medir únicamente temperaturas.</label><br>
            </div>
        </div>

        <div class="pregunta">
            <p>8. ¿Qué NO es una función de los instrumentos químicos?</p>
            <div class="opciones">
                <label><input type="radio" name="pregunta8" value="a"> a) Realizar experimentos.</label><br>
                <label><input type="radio" name="pregunta8" value="b"> b) Manipular sustancias químicas.</label><br>
                <label><input type="radio" name="pregunta8" value="c"> c) Descomponer sustancias en elementos.</label><br>
                <label><input type="radio" name="pregunta8" value="d"> d) Medir propiedades químicas y físicas.</label><br>
            </div>
        </div>

        <div class="pregunta">
            <p>9. ¿Qué ocurre con la llama del mechero al aplicar cloruro de potasio?</p>
            <div class="opciones">
                <label><input type="radio" name="pregunta9" value="a"> a) Se vuelve de color azul claro</label><br>
                <label><input type="radio" name="pregunta9" value="b"> b) Se vuelve de color rojo intenso</label><br>
                <label><input type="radio" name="pregunta9" value="c"> c) Se vuelve de color verde brillante</label><br>
                <label><input type="radio" name="pregunta9" value="d"> d) Se vuelve de color lila o violeta</label><br>
            </div>
        </div>

        <div class="pregunta">
            <p>10. ¿Qué ocurre con la llama del mechero al aplicar cloruro de sodio?</p>
            <div class="opciones">
                <label><input type="radio" name="pregunta10" value="a"> a) Se vuelve de color rojo intenso</label><br>
                <label><input type="radio" name="pregunta10" value="b"> b) Se vuelve amarillenta</label><br>
                <label><input type="radio" name="pregunta10" value="c"> c) Se vuelve de color azul oscuro</label><br>
                <label><input type="radio" name="pregunta10" value="d"> d) Se vuelve de color verde pasto</label><br>
            </div>
        </div>
        <button type="submit">Enviar Respuestas</button>
    </form>
</div>

<div class="certificate" id="certificate">
    <h1>Certificado de Finalización</h1>
    <div class="recipient">Este certificado se otorga a:</div>
    <div class="recipient" id="recipient-name">[Nombre del Estudiante]</div>
    <div class="description">
        Por haber completado con éxito el curso de <strong>LabCei</strong>.
    </div>
    <div>SCORE:</div>
    <div id="score">[Puntuación]</div>
    <div class="footer">
        Fecha: <span class="date" id="date">[Fecha]</span>
    </div>
    <br><br>
    <button style="background-color: aliceblue; color: black;" id="generate-pdf">labcei@gmail.com</button>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>
<script>
    document.getElementById("examen").addEventListener("submit", function(event) {
        event.preventDefault(); // Evita que el formulario se envíe

        // Respuestas correctas
        const respuestasCorrectas = ['a', 'd', 'b', 'c', 'c', 'a', 'a', 'c', 'd', 'b'];
        let puntaje = 0;
        const nombreEstudiante = "Ali Gonzalez Huerta"; // Cambia esto por un input si es necesario

        // Iterar sobre cada pregunta
        for (let i = 1; i <= respuestasCorrectas.length; i++) {
            const respuestaSeleccionada = document.querySelector(`input[name="pregunta${i}"]:checked`);
            if (respuestaSeleccionada && respuestaSeleccionada.value === respuestasCorrectas[i - 1]) {
                puntaje += 10; // Sumar 10 puntos por respuesta correcta
            }
        }

        // Mostrar resultado con diferente contenido basado en la puntuación
        if (puntaje > 60) {
            Swal.fire({
                title: '¡Felicidades!',
                text: `Tu puntaje total es: ${puntaje} puntos.`,
                icon: 'success',
                showCancelButton: true,
                confirmButtonText: 'Descargar Certificado',
                cancelButtonText: 'Aceptar'
            }).then((result) => {
                if (result.isConfirmed) {
                    mostrarCertificado(puntaje, nombreEstudiante);
                }
            });
        } else {
            Swal.fire({
                title: 'Resultado',
                text: `Tu puntaje total es: ${puntaje} puntos. Debes intentarlo de nuevo.`,
                icon: 'warning',
                confirmButtonText: 'Aceptar'
            });
        }
    });

    function mostrarCertificado(puntaje, nombreEstudiante) {
        const element = document.getElementById('certificate');
        document.getElementById('recipient-name').textContent = nombreEstudiante;
        document.getElementById('score').textContent = puntaje;
        const fechaActual = new Intl.DateTimeFormat('es-ES', {
            day: 'numeric',
            month: 'long',
            year: 'numeric'
        }).format(new Date());
        
        document.getElementById('date').textContent = fechaActual;
        
        // Mostrar el certificado antes de generar el PDF
        element.style.display = 'block';

        // Generar el PDF
        html2pdf()
        .set({
            margin: 0.5, // Ajusta los márgenes
            filename: 'certificado.pdf',
            image: { type: 'jpeg', quality: 0.98 },
            html2canvas: { scale: 2 },
            jsPDF: { unit: 'in', format: 'a4', orientation: 'landscape' }
        })
        .from(element)
        .save()
        .then(() => {
            // Ocultar el certificado nuevamente después de generar el PDF
            element.style.display = 'none';
        });
    
    }
</script>
</body>
</html>
